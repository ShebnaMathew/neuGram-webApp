{"ast":null,"code":"import { INITIAL_STATE, LOGIN_STATE } from \"./stateConstants\";\nimport { STORE_POSTS, LOGIN_SUCCESS, INVALID_LOGIN, LOGIN_NETWORK_ERROR, COMPLETE_ONBOARDING, LOGOUT, NEW_MESSAGE, CONNECTED, STORE_USERS, ADD_REPLY, UPDATE_REACTS } from \"./actionConstants\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport thunkMiddleware from \"redux-thunk\";\n\nfunction rootReducer(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case STORE_USERS:\n      {\n        console.log(action.payload.users);\n        return { ...state,\n          users: action.payload.users\n        };\n      }\n\n    case LOGIN_SUCCESS:\n      console.log('update login state');\n      return { ...state,\n        loginState: LOGIN_STATE.LOGGED_IN,\n        user: action.payload.user\n      };\n\n    case INVALID_LOGIN:\n      return { ...state,\n        loginState: LOGIN_STATE.INVALID_LOGIN\n      };\n\n    case LOGIN_NETWORK_ERROR:\n      return { ...state,\n        loginState: LOGIN_STATE.NETWORK_ERROR\n      };\n\n    case LOGOUT:\n      return { ...state,\n        user: {},\n        loginState: LOGIN_STATE.LOGGED_OUT\n      };\n\n    case COMPLETE_ONBOARDING:\n      return { ...state,\n        user: { ...state.user,\n          onboardingComplete: true\n        }\n      };\n\n    case STORE_POSTS:\n      return { ...state,\n        posts: action.payload.posts\n      };\n\n    case NEW_MESSAGE:\n      return { ...state,\n        messages: action.payload.messages\n      };\n\n    case CONNECTED:\n      return { ...state,\n        isConnected: true\n      };\n\n    case ADD_REPLY:\n      const currentPosts = { ...state.posts\n      };\n      const updated = currentPosts[action.payload.postId];\n      updated.replies.push(action.payload.reply);\n      return { ...state,\n        posts: currentPosts\n      };\n\n    case UPDATE_REACTS:\n      const currentPostsWithReacts = { ...state.posts\n      };\n      const updatedReacts = currentPostsWithReacts[action.payload.postId];\n      updatedReacts.reacts.push(action.payload.reacts);\n      console.log(\"current reacts: \", currentPostsWithReacts);\n      return { ...state,\n        posts: currentPostsWithReacts\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport default createStore(rootReducer, applyMiddleware(thunkMiddleware));","map":{"version":3,"sources":["/Users/shebthebat/Documents/NEU/Sem 5/CS 7580/bobby_lupo_lisa_lam_miranda_tran_shebna_mathew_finalproject/src/redux/store.js"],"names":["INITIAL_STATE","LOGIN_STATE","STORE_POSTS","LOGIN_SUCCESS","INVALID_LOGIN","LOGIN_NETWORK_ERROR","COMPLETE_ONBOARDING","LOGOUT","NEW_MESSAGE","CONNECTED","STORE_USERS","ADD_REPLY","UPDATE_REACTS","createStore","applyMiddleware","thunkMiddleware","rootReducer","state","action","type","console","log","payload","users","loginState","LOGGED_IN","user","NETWORK_ERROR","LOGGED_OUT","onboardingComplete","posts","messages","isConnected","currentPosts","updated","postId","replies","push","reply","currentPostsWithReacts","updatedReacts","reacts"],"mappings":"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","sourcesContent":["import {INITIAL_STATE, LOGIN_STATE} from \"./stateConstants\";\nimport { STORE_POSTS, LOGIN_SUCCESS, INVALID_LOGIN, LOGIN_NETWORK_ERROR, COMPLETE_ONBOARDING, \n    LOGOUT, NEW_MESSAGE, CONNECTED, STORE_USERS, ADD_REPLY, UPDATE_REACTS } from \"./actionConstants\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport thunkMiddleware from \"redux-thunk\";\n\nfunction rootReducer(state = INITIAL_STATE, action) {\n    switch (action.type) {\n        case STORE_USERS: {\n            console.log(action.payload.users)\n            return {...state, users: action.payload.users};\n        }\n        case LOGIN_SUCCESS:\n            console.log('update login state')\n            return {\n                ...state,\n                loginState: LOGIN_STATE.LOGGED_IN,\n                user: action.payload.user\n            }\n        case INVALID_LOGIN:\n            return {...state, loginState: LOGIN_STATE.INVALID_LOGIN}\n        case LOGIN_NETWORK_ERROR:\n            return {...state, loginState: LOGIN_STATE.NETWORK_ERROR}\n        case LOGOUT:\n            return {...state, user: {}, loginState: LOGIN_STATE.LOGGED_OUT}\n        case COMPLETE_ONBOARDING:\n            return {\n                ...state,\n                user: {\n                    ...state.user,\n                    onboardingComplete: true\n                }\n            }    \n        case STORE_POSTS: \n            return {...state, posts: action.payload.posts};\n        case NEW_MESSAGE:\n            return {...state, messages: action.payload.messages}\n        case CONNECTED:\n            return {...state, isConnected: true}\n        case ADD_REPLY:\n            const currentPosts = {...state.posts};\n            const updated = currentPosts[action.payload.postId];\n            updated.replies.push(action.payload.reply);\n            return {...state,\n                posts:currentPosts\n            }\n        case UPDATE_REACTS:\n            const currentPostsWithReacts = {...state.posts};\n            const updatedReacts = currentPostsWithReacts[action.payload.postId];\n            updatedReacts.reacts.push(action.payload.reacts);\n            console.log(\"current reacts: \", currentPostsWithReacts)\n            return {...state,\n                posts:currentPostsWithReacts\n            }\n        default:\n            return state;\n    }\n}\n\nexport default createStore(rootReducer, applyMiddleware(thunkMiddleware));"]},"metadata":{},"sourceType":"module"}