{"ast":null,"code":"import store from \"./redux/store\";\nimport { newMessage, isConnected, storeUsersOnline } from \"./redux/actions\";\n/** CLIENT CONFIGURATION - connect to the server */\n\nconst socketIOClient = require(\"socket.io-client\"); // When deployed, connect to the hosted server, otherwise connect to local server\n// Localhost port must match server\n\n\nlet host = process.env.NODE_ENV === 'production' ? \"appname.herokuapp.com\" : \"localhost:4002\";\nlet socket = socketIOClient.connect(host, {\n  secure: true\n}); // Checks which host we're connected to (for troubleshooting);\n\nconsole.log(\"connected to \" + host);\nsocket.on(\"notification\", msg => {\n  console.log(msg);\n});\nsocket.on(\"all messages\", msg => {\n  // console.log(msg);\n  store.dispatch(newMessage(msg));\n});\nsocket.on(\"chat joined\", () => {\n  store.dispatch(isConnected());\n});\nsocket.on(\"users online\", users => {\n  store.dispatch(storeUsersOnline(users));\n}); // This process will allow different clients to have duplicate usernames! A real \n// application should first check with the server to make sure the client's\n// username is unique.\n\nexport const joinChat = username => {\n  socket.emit(\"join\", username);\n};\nexport const sendMessage = msg => {\n  socket.emit(\"new message\", msg);\n};","map":{"version":3,"sources":["/Users/shebthebat/Documents/NEU/Sem 5/CS 7580/neuGram-webApp/src/client.js"],"names":["store","newMessage","isConnected","storeUsersOnline","socketIOClient","require","host","process","env","NODE_ENV","socket","connect","secure","console","log","on","msg","dispatch","users","joinChat","username","emit","sendMessage"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,eAAlB;AACA,SAASC,UAAT,EAAqBC,WAArB,EAAkCC,gBAAlC,QAA0D,iBAA1D;AAEA;;AACA,MAAMC,cAAc,GAAGC,OAAO,CAAC,kBAAD,CAA9B,C,CAEA;AACA;;;AACA,IAAIC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GACP,uBADO,GACmB,gBAD9B;AAEA,IAAIC,MAAM,GAAGN,cAAc,CAACO,OAAf,CAAuBL,IAAvB,EAA6B;AAACM,EAAAA,MAAM,EAAE;AAAT,CAA7B,CAAb,C,CACA;;AACAC,OAAO,CAACC,GAAR,CAAY,kBAAkBR,IAA9B;AAEAI,MAAM,CAACK,EAAP,CAAU,cAAV,EAA0BC,GAAG,IAAI;AAC7BH,EAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACH,CAFD;AAIAN,MAAM,CAACK,EAAP,CAAU,cAAV,EAA0BC,GAAG,IAAI;AAC7B;AACAhB,EAAAA,KAAK,CAACiB,QAAN,CAAehB,UAAU,CAACe,GAAD,CAAzB;AACH,CAHD;AAKAN,MAAM,CAACK,EAAP,CAAU,aAAV,EAAyB,MAAM;AAC3Bf,EAAAA,KAAK,CAACiB,QAAN,CAAef,WAAW,EAA1B;AACH,CAFD;AAIAQ,MAAM,CAACK,EAAP,CAAU,cAAV,EAA2BG,KAAD,IAAU;AAChClB,EAAAA,KAAK,CAACiB,QAAN,CAAed,gBAAgB,CAACe,KAAD,CAA/B;AACH,CAFD,E,CAIA;AACA;AACA;;AACA,OAAO,MAAMC,QAAQ,GAAGC,QAAQ,IAAI;AAChCV,EAAAA,MAAM,CAACW,IAAP,CAAY,MAAZ,EAAoBD,QAApB;AACH,CAFM;AAIP,OAAO,MAAME,WAAW,GAAGN,GAAG,IAAI;AAC9BN,EAAAA,MAAM,CAACW,IAAP,CAAY,aAAZ,EAA2BL,GAA3B;AACH,CAFM","sourcesContent":["import store from \"./redux/store\";\nimport { newMessage, isConnected, storeUsersOnline } from \"./redux/actions\";\n\n/** CLIENT CONFIGURATION - connect to the server */\nconst socketIOClient = require(\"socket.io-client\");\n\n// When deployed, connect to the hosted server, otherwise connect to local server\n// Localhost port must match server\nlet host = process.env.NODE_ENV === 'production' ?\n    \"appname.herokuapp.com\" : \"localhost:4002\"   \nlet socket = socketIOClient.connect(host, {secure: true});\n// Checks which host we're connected to (for troubleshooting);\nconsole.log(\"connected to \" + host);\n\nsocket.on(\"notification\", msg => {\n    console.log(msg);\n});\n\nsocket.on(\"all messages\", msg => {\n    // console.log(msg);\n    store.dispatch(newMessage(msg));\n});\n\nsocket.on(\"chat joined\", () => {\n    store.dispatch(isConnected());\n});\n\nsocket.on(\"users online\", (users)=> {\n    store.dispatch(storeUsersOnline(users));\n})\n\n// This process will allow different clients to have duplicate usernames! A real \n// application should first check with the server to make sure the client's\n// username is unique.\nexport const joinChat = username => {\n    socket.emit(\"join\", username);\n}\n\nexport const sendMessage = msg => {\n    socket.emit(\"new message\", msg);\n}"]},"metadata":{},"sourceType":"module"}