{"ast":null,"code":"var _jsxFileName = \"/Users/shebthebat/Documents/NEU/Sem 5/CS 7580/neuGram-webApp/src/components/Posts.js\",\n    _s = $RefreshSig$();\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Post from \"./Post\";\nimport { ADD_POST_PAGE, VIEW_POST } from \"../redux/actionConstants\";\nimport AddPost from \"./AddPost\";\nimport { LOGIN_STATE } from \"../redux/stateConstants\";\nimport { logout, addPostPage, completeOnboarding } from \"../redux/actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Posts = () => {\n  _s();\n\n  const posts = useSelector(state => state.posts);\n  const viewState = useSelector(state => state.viewState);\n  const loginState = useSelector(state => state.loginState); //const viewState = useSelector(state => state.viewState);\n\n  const isNewUser = useSelector(state => state.isNewUser);\n  const userId = useSelector(state => state.user.userId);\n  const username = useSelector(state => state.user.username);\n  const dispatch = useDispatch();\n  const ids = Object.keys(posts); // sort the post ids by time\n\n  const rearrangedIds = ids.map(id => {\n    const date = posts[id].datePosted;\n    return [date, id];\n  }).sort((elem1, elem2) => {\n    return elem1[0] > elem2[0] ? 1 : elem1[0] < elem2[0] ? -1 : 0;\n  }).reverse();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container container-no-margins posts\",\n    children: [viewState === ADD_POST_PAGE && /*#__PURE__*/_jsxDEV(AddPost, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 46\n    }, this), loginState === LOGIN_STATE.LOGGED_IN && viewState === VIEW_POST && isNewUser !== undefined && !isNewUser && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn custom-btn-style\",\n        onClick: () => dispatch(addPostPage()),\n        children: \"Add Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn custom-btn-style btn-buffer\",\n        onClick: () => dispatch(completeOnboarding(!isNewUser, userId)),\n        children: \"View Onboarding\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row row-cols-3 justify-content-center\",\n      children: rearrangedIds.map((element, index) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cols justify-content-center\",\n          children: /*#__PURE__*/_jsxDEV(Post, {\n            id: element[1]\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Posts, \"X56TRbB7m6YYX4O9jA9rvmsvK9M=\", false, function () {\n  return [useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useDispatch];\n});\n\n_c = Posts;\nexport default Posts;\n\nvar _c;\n\n$RefreshReg$(_c, \"Posts\");","map":{"version":3,"sources":["/Users/shebthebat/Documents/NEU/Sem 5/CS 7580/neuGram-webApp/src/components/Posts.js"],"names":["useSelector","useDispatch","Post","ADD_POST_PAGE","VIEW_POST","AddPost","LOGIN_STATE","logout","addPostPage","completeOnboarding","Posts","posts","state","viewState","loginState","isNewUser","userId","user","username","dispatch","ids","Object","keys","rearrangedIds","map","id","date","datePosted","sort","elem1","elem2","reverse","LOGGED_IN","undefined","element","index"],"mappings":"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","sourcesContent":["import { useSelector, useDispatch } from \"react-redux\";\nimport Post from \"./Post\";\nimport { ADD_POST_PAGE, VIEW_POST } from \"../redux/actionConstants\";\nimport AddPost from \"./AddPost\";\nimport { LOGIN_STATE } from \"../redux/stateConstants\";\nimport { logout, addPostPage, completeOnboarding } from \"../redux/actions\";\n\nconst Posts = () => {\n    const posts = useSelector(state => state.posts);\n    const viewState = useSelector(state => state.viewState);\n    const loginState = useSelector(state => state.loginState);\n    //const viewState = useSelector(state => state.viewState);\n    const isNewUser = useSelector(state => state.isNewUser);\n    const userId = useSelector(state => state.user.userId);\n    const username = useSelector(state => state.user.username);\n    const dispatch = useDispatch();\n    const ids = Object.keys(posts);\n    \n    // sort the post ids by time\n    const rearrangedIds = ids.map(id => {\n        const date = posts[id].datePosted;\n        return [date, id]\n    }).sort((elem1, elem2) => {\n        return elem1[0] > elem2[0] ? 1 : elem1[0] < elem2[0] ? -1 : 0;\n    }).reverse()\n\n    return (\n\n        <div className=\"container container-no-margins posts\">\n            {\n            (viewState === ADD_POST_PAGE) && <AddPost />\n            }\n            {\n                    loginState === LOGIN_STATE.LOGGED_IN && viewState === VIEW_POST && (isNewUser !== undefined && !isNewUser) &&\n                    <>\n                        <button className=\"btn custom-btn-style\" onClick={() => dispatch(addPostPage())}>\n                            Add Post\n                        </button> \n                        <button className=\"btn custom-btn-style btn-buffer\" onClick={() => dispatch(completeOnboarding(!isNewUser, userId))}>\n                            View Onboarding\n                        </button>\n                    </>\n                }\n            <div className=\"row row-cols-3 justify-content-center\">\n            {rearrangedIds.map((element, index)=>{\n                return (\n                    <div className=\"cols justify-content-center\">\n                        <Post key={index} id={element[1]} />\n                    </div>\n                )\n            })}\n            </div>\n        </div>\n    )\n}\n\nexport default Posts"]},"metadata":{},"sourceType":"module"}