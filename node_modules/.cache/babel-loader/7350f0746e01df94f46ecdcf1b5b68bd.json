{"ast":null,"code":"import { INITIAL_STATE, LOGIN_STATE } from \"./stateConstants\";\nimport { STORE_POSTS, LOGIN_SUCCESS, INVALID_LOGIN, LOGIN_NETWORK_ERROR, COMPLETE_ONBOARDING, LOGOUT, NEW_MESSAGE, UPDATE_DOWNLOAD_URL, CONNECTED, TOGGLE_PROFILE_VIEW, STORE_USERS, ADD_REPLY, UPDATE_REACTS, ADD_POST_PAGE, VIEW_POST, STORE_ONLINE_USERS, CREATE_SUCCESS, DISPLAY_SETTINGS } from \"./actionConstants\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport thunkMiddleware from \"redux-thunk\";\n\nfunction rootReducer(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case STORE_ONLINE_USERS:\n      {\n        return { ...state,\n          onlineUsers: action.payload.onlineUsers\n        };\n      }\n\n    case VIEW_POST:\n      {\n        return { ...state,\n          viewState: VIEW_POST\n        };\n      }\n\n    case TOGGLE_PROFILE_VIEW:\n      {\n        return { ...state,\n          profileView: action.payload.profileView,\n          userView: action.payload.userView\n        };\n      }\n\n    case DISPLAY_SETTINGS:\n      {\n        return { ...state,\n          settingsView: action.payload.settingsView\n        };\n      }\n\n    case ADD_POST_PAGE:\n      {\n        return { ...state,\n          viewState: ADD_POST_PAGE\n        };\n      }\n\n    case CREATE_SUCCESS:\n      {\n        return { ...state,\n          createdNewUser: action.payload.createdNewUser\n        };\n      }\n\n    case STORE_USERS:\n      {\n        return { ...state,\n          users: action.payload.users\n        };\n      }\n\n    case LOGIN_SUCCESS:\n      return { ...state,\n        loginState: LOGIN_STATE.LOGGED_IN,\n        user: action.payload.user,\n        isNewUser: action.payload.user.isNewUser\n      };\n\n    case INVALID_LOGIN:\n      return { ...state,\n        loginState: LOGIN_STATE.INVALID_LOGIN\n      };\n\n    case LOGIN_NETWORK_ERROR:\n      return { ...state,\n        loginState: LOGIN_STATE.NETWORK_ERROR\n      };\n\n    case LOGOUT:\n      return { ...state,\n        user: {},\n        loginState: LOGIN_STATE.LOGGED_OUT,\n        viewState: VIEW_POST,\n        isNewUser: false\n      };\n\n    case COMPLETE_ONBOARDING:\n      return { ...state,\n        user: { ...state.user,\n          isNewUser: action.payload.isNewUser\n        },\n        isNewUser: action.payload.user.isNewUser\n      };\n\n    case STORE_POSTS:\n      return { ...state,\n        posts: action.payload.posts\n      };\n\n    case NEW_MESSAGE:\n      return { ...state,\n        messages: action.payload.messages\n      };\n\n    case CONNECTED:\n      return { ...state,\n        isConnected: true\n      };\n\n    case ADD_REPLY:\n      const currentPosts = { ...state.posts\n      };\n      const updated = currentPosts[action.payload.postId];\n      updated.replies.push(action.payload.reply);\n      return { ...state,\n        posts: currentPosts\n      };\n\n    case UPDATE_REACTS:\n      const currentPostsWithReacts = { ...state.posts\n      };\n      const updatedReacts = currentPostsWithReacts[action.payload.postId];\n      updatedReacts.reacts = action.payload.reacts;\n      return { ...state,\n        posts: currentPostsWithReacts\n      };\n\n    case UPDATE_DOWNLOAD_URL:\n      return { ...state,\n        url: action.payload.url\n      };\n\n    case UPDATE_PROFILE_PIC:\n      return { ...state,\n        profilePicture: action.payload.url\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport default createStore(rootReducer, applyMiddleware(thunkMiddleware));","map":{"version":3,"sources":["/Users/shebthebat/Documents/NEU/Sem 5/CS 7580/neuGram-webApp/src/redux/store.js"],"names":["INITIAL_STATE","LOGIN_STATE","STORE_POSTS","LOGIN_SUCCESS","INVALID_LOGIN","LOGIN_NETWORK_ERROR","COMPLETE_ONBOARDING","LOGOUT","NEW_MESSAGE","UPDATE_DOWNLOAD_URL","CONNECTED","TOGGLE_PROFILE_VIEW","STORE_USERS","ADD_REPLY","UPDATE_REACTS","ADD_POST_PAGE","VIEW_POST","STORE_ONLINE_USERS","CREATE_SUCCESS","DISPLAY_SETTINGS","createStore","applyMiddleware","thunkMiddleware","rootReducer","state","action","type","onlineUsers","payload","viewState","profileView","userView","settingsView","createdNewUser","users","loginState","LOGGED_IN","user","isNewUser","NETWORK_ERROR","LOGGED_OUT","posts","messages","isConnected","currentPosts","updated","postId","replies","push","reply","currentPostsWithReacts","updatedReacts","reacts","url","UPDATE_PROFILE_PIC","profilePicture"],"mappings":"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","sourcesContent":["import {INITIAL_STATE, LOGIN_STATE} from \"./stateConstants\";\nimport { STORE_POSTS, LOGIN_SUCCESS, INVALID_LOGIN, LOGIN_NETWORK_ERROR, COMPLETE_ONBOARDING, \n\n    LOGOUT, NEW_MESSAGE, UPDATE_DOWNLOAD_URL, CONNECTED, TOGGLE_PROFILE_VIEW, STORE_USERS, ADD_REPLY, UPDATE_REACTS, ADD_POST_PAGE, VIEW_POST, STORE_ONLINE_USERS, CREATE_SUCCESS, DISPLAY_SETTINGS } from \"./actionConstants\";\n\nimport { createStore, applyMiddleware } from \"redux\";\nimport thunkMiddleware from \"redux-thunk\";\n\nfunction rootReducer(state = INITIAL_STATE, action) {\n    switch (action.type) {\n        case STORE_ONLINE_USERS: {\n            return {...state, onlineUsers: action.payload.onlineUsers}\n        }\n        case VIEW_POST: {\n            return {...state, viewState: VIEW_POST}\n        }\n        case TOGGLE_PROFILE_VIEW: {\n            return {...state, profileView: action.payload.profileView, userView: action.payload.userView}\n        }\n        case DISPLAY_SETTINGS: {\n            return {...state, settingsView: action.payload.settingsView}\n        }\n        case ADD_POST_PAGE: {\n            return {...state, viewState: ADD_POST_PAGE}\n        }\n        case CREATE_SUCCESS: {\n            return {...state, createdNewUser: action.payload.createdNewUser};\n        }\n        case STORE_USERS: {\n            return {...state, users: action.payload.users};\n        }\n        case LOGIN_SUCCESS:\n            return {\n                ...state,\n                loginState: LOGIN_STATE.LOGGED_IN,\n                user: action.payload.user,\n                isNewUser: action.payload.user.isNewUser\n            }\n        case INVALID_LOGIN:\n            return {...state, loginState: LOGIN_STATE.INVALID_LOGIN}\n        case LOGIN_NETWORK_ERROR:\n            return {...state, loginState: LOGIN_STATE.NETWORK_ERROR}\n        case LOGOUT:\n            return {\n                ...state, \n                user: {}, \n                loginState: LOGIN_STATE.LOGGED_OUT,\n                viewState: VIEW_POST,\n                isNewUser: false\n            }\n        case COMPLETE_ONBOARDING:\n            return {\n                ...state,\n                user: {\n                    ...state.user,\n                    isNewUser: action.payload.isNewUser\n                },\n                isNewUser: action.payload.user.isNewUser\n            }    \n        case STORE_POSTS: \n            return {...state, posts: action.payload.posts};\n        case NEW_MESSAGE:\n            return {...state, messages: action.payload.messages}\n        case CONNECTED:\n            return {...state, isConnected: true}\n        case ADD_REPLY:\n            const currentPosts = {...state.posts};\n            const updated = currentPosts[action.payload.postId];\n            updated.replies.push(action.payload.reply);\n            return {...state,\n                posts:currentPosts\n            }\n        case UPDATE_REACTS:\n            const currentPostsWithReacts = {...state.posts};\n            const updatedReacts = currentPostsWithReacts[action.payload.postId];\n            updatedReacts.reacts = (action.payload.reacts);\n            return {...state,\n                posts:currentPostsWithReacts\n            }\n        case UPDATE_DOWNLOAD_URL:\n            return {...state, url: action.payload.url}\n        case UPDATE_PROFILE_PIC:\n            return {...state, profilePicture: action.payload.url}\n        default:\n            return state;\n    }\n}\n\nexport default createStore(rootReducer, applyMiddleware(thunkMiddleware));"]},"metadata":{},"sourceType":"module"}