{"ast":null,"code":"import { COMPLETE_ONBOARDING, STORE_POSTS, LOGIN_SUCCESS, INVALID_LOGIN, LOGIN_NETWORK_ERROR, LOGOUT } from \"./actionConstants\";\nimport firebase from \"../data/fbConfig\";\nimport store from \"./store\";\nconst database = firebase.firestore();\nexport const loginSuccess = user => ({\n  type: LOGIN_SUCCESS,\n  payload: {\n    user\n  }\n});\nexport const loginFail = () => ({\n  type: INVALID_LOGIN\n});\nexport const loginNetworkError = () => ({\n  type: LOGIN_NETWORK_ERROR\n});\nexport const logout = () => ({\n  type: LOGOUT\n});\nexport const userCompletedOnboarding = userId => {\n  return true; // A real operation would have a return...\n};\nexport const completeOnboarding = () => {\n  // Gets the current user from the store. Note the store import above.\n  const userId = store.getState().user.id;\n  userCompletedOnboarding(userId);\n  return {\n    type: COMPLETE_ONBOARDING\n  };\n};\nexport const storePosts = posts => ({\n  type: STORE_POSTS,\n  payload: {\n    posts: posts\n  }\n});\nexport const getPosts = () => {\n  return dispatch => {\n    database.collection(\"posts\").get().then(querySnapshot => {\n      if (querySnapshot.size > 0) {\n        const posts = {};\n        querySnapshot.forEach(doc => {\n          posts[doc.id] = {\n            caption: doc.data().caption,\n            datePosted: doc.data().datePosted,\n            pictureUrl: doc.data().pictreUrl,\n            reacts: doc.data().reacts,\n            replies: doc.data().replies,\n            tags: doc.data().tags,\n            userId: doc.data().userId,\n            username: doc.data().username\n          };\n        });\n        dispatch(storePosts(posts));\n      } else {\n        console.log(\"No posts available\");\n      }\n    }).catch(error => {\n      console.log(\"Error\");\n    });\n  };\n};","map":{"version":3,"sources":["/Users/shebthebat/Documents/NEU/Sem 5/CS 7580/bobby_lupo_lisa_lam_miranda_tran_shebna_mathew_finalproject/src/redux/actions.js"],"names":["COMPLETE_ONBOARDING","STORE_POSTS","LOGIN_SUCCESS","INVALID_LOGIN","LOGIN_NETWORK_ERROR","LOGOUT","firebase","store","database","firestore","loginSuccess","user","type","payload","loginFail","loginNetworkError","logout","userCompletedOnboarding","userId","completeOnboarding","getState","id","storePosts","posts","getPosts","dispatch","collection","get","then","querySnapshot","size","forEach","doc","caption","data","datePosted","pictureUrl","pictreUrl","reacts","replies","tags","username","console","log","catch","error"],"mappings":"AAAA,SAASA,mBAAT,EAA8BC,WAA9B,EAA2CC,aAA3C,EAA0DC,aAA1D,EAAyEC,mBAAzE,EAA8FC,MAA9F,QAA4G,mBAA5G;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,MAAMC,QAAQ,GAAGF,QAAQ,CAACG,SAAT,EAAjB;AAEA,OAAO,MAAMC,YAAY,GAAGC,IAAI,KAAK;AACjCC,EAAAA,IAAI,EAAEV,aAD2B;AAEjCW,EAAAA,OAAO,EAAE;AACLF,IAAAA;AADK;AAFwB,CAAL,CAAzB;AAOP,OAAO,MAAMG,SAAS,GAAG,OAAO;AAC5BF,EAAAA,IAAI,EAAET;AADsB,CAAP,CAAlB;AAIP,OAAO,MAAMY,iBAAiB,GAAG,OAAO;AACpCH,EAAAA,IAAI,EAAER;AAD8B,CAAP,CAA1B;AAIP,OAAO,MAAMY,MAAM,GAAG,OAAO;AACzBJ,EAAAA,IAAI,EAAEP;AADmB,CAAP,CAAf;AAIP,OAAO,MAAMY,uBAAuB,GAAGC,MAAM,IAAI;AAE7C,SAAO,IAAP,CAF6C,CAEhC;AAChB,CAHM;AAKP,OAAO,MAAMC,kBAAkB,GAAG,MAAM;AACpC;AACA,QAAMD,MAAM,GAAGX,KAAK,CAACa,QAAN,GAAiBT,IAAjB,CAAsBU,EAArC;AACAJ,EAAAA,uBAAuB,CAACC,MAAD,CAAvB;AACA,SAAO;AACHN,IAAAA,IAAI,EAAEZ;AADH,GAAP;AAGH,CAPM;AASP,OAAO,MAAMsB,UAAU,GAAIC,KAAD,KAAY;AAClCX,EAAAA,IAAI,EAAEX,WAD4B;AAElCY,EAAAA,OAAO,EAAE;AACLU,IAAAA,KAAK,EAAEA;AADF;AAFyB,CAAZ,CAAnB;AAQP,OAAO,MAAMC,QAAQ,GAAG,MAAM;AAC1B,SAAOC,QAAQ,IAAI;AAEjBjB,IAAAA,QAAQ,CAACkB,UAAT,CAAoB,OAApB,EACGC,GADH,GAEGC,IAFH,CAESC,aAAD,IAAmB;AACvB,UAAIA,aAAa,CAACC,IAAd,GAAqB,CAAzB,EAA4B;AAC1B,cAAMP,KAAK,GAAG,EAAd;AACAM,QAAAA,aAAa,CAACE,OAAd,CAAsBC,GAAG,IAAI;AAC3BT,UAAAA,KAAK,CAACS,GAAG,CAACX,EAAL,CAAL,GAAgB;AACdY,YAAAA,OAAO,EAACD,GAAG,CAACE,IAAJ,GAAWD,OADL;AAEdE,YAAAA,UAAU,EAACH,GAAG,CAACE,IAAJ,GAAWC,UAFR;AAGdC,YAAAA,UAAU,EAACJ,GAAG,CAACE,IAAJ,GAAWG,SAHR;AAIdC,YAAAA,MAAM,EAACN,GAAG,CAACE,IAAJ,GAAWI,MAJJ;AAKdC,YAAAA,OAAO,EAACP,GAAG,CAACE,IAAJ,GAAWK,OALL;AAMdC,YAAAA,IAAI,EAACR,GAAG,CAACE,IAAJ,GAAWM,IANF;AAOdtB,YAAAA,MAAM,EAACc,GAAG,CAACE,IAAJ,GAAWhB,MAPJ;AAQduB,YAAAA,QAAQ,EAACT,GAAG,CAACE,IAAJ,GAAWO;AARN,WAAhB;AAUD,SAXD;AAYAhB,QAAAA,QAAQ,CAACH,UAAU,CAACC,KAAD,CAAX,CAAR;AACD,OAfD,MAgBK;AACHmB,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACD;AACF,KAtBH,EAuBGC,KAvBH,CAuBSC,KAAK,IAAI;AACdH,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACD,KAzBH;AA0BD,GA5BD;AA6BD,CA9BI","sourcesContent":["import { COMPLETE_ONBOARDING, STORE_POSTS, LOGIN_SUCCESS, INVALID_LOGIN, LOGIN_NETWORK_ERROR, LOGOUT } from \"./actionConstants\";\nimport firebase from \"../data/fbConfig\";\nimport store from \"./store\";\n\nconst database = firebase.firestore();\n\nexport const loginSuccess = user => ({\n    type: LOGIN_SUCCESS,\n    payload: {\n        user\n    }\n});\n\nexport const loginFail = () => ({\n    type: INVALID_LOGIN\n});\n\nexport const loginNetworkError = () => ({\n    type: LOGIN_NETWORK_ERROR\n});\n\nexport const logout = () => ({\n    type: LOGOUT\n});\n\nexport const userCompletedOnboarding = userId => {\n   \n    return true; // A real operation would have a return...\n}\n\nexport const completeOnboarding = () => {\n    // Gets the current user from the store. Note the store import above.\n    const userId = store.getState().user.id;\n    userCompletedOnboarding(userId);\n    return {\n        type: COMPLETE_ONBOARDING\n    }\n}\n\nexport const storePosts = (posts) => ({\n    type: STORE_POSTS,\n    payload: {\n        posts: posts\n    }\n\n})\n\nexport const getPosts = () => {\n    return dispatch => {\n      \n      database.collection(\"posts\")\n        .get()\n        .then((querySnapshot) => {\n          if (querySnapshot.size > 0) {\n            const posts = {};\n            querySnapshot.forEach(doc => {\n              posts[doc.id] = {\n                caption:doc.data().caption,\n                datePosted:doc.data().datePosted,\n                pictureUrl:doc.data().pictreUrl,\n                reacts:doc.data().reacts,\n                replies:doc.data().replies,\n                tags:doc.data().tags,\n                userId:doc.data().userId,\n                username:doc.data().username\n              }\n            })\n            dispatch(storePosts(posts));\n          }\n          else {\n            console.log(\"No posts available\") \n          }\n        })\n        .catch(error => {\n          console.log(\"Error\")\n        });\n    }\n  };\n  "]},"metadata":{},"sourceType":"module"}